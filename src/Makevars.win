# Generated by rconfigure.py, do not edit by hand

# This is required as a first target if we add additional targets
# (and we do in Makevars.duckdb, which is either include/from-tar.mk
# or include/to-tar.mk).
#
# The symbols.rds file helps troubleshoot issues with forbidden symbols
# such as abort.
# Set UserNM=true to speed up compilation during development.
all: symbols.rds $(SHLIB)

include include/glue.mk
include include/sources.mk

include Makevars.rstrtmgr

# This file is available only during development.
# For the tarball, we create an empty file.
include/deps.mk:
	touch -r $$(ls -t *.cpp | head -n 1) "$@"

include include/deps.mk

# This file is created by the configure or configure.win scripts
# depending on the value of the DUCKDB_R_PREBUILT_ARCHIVE environment variable.
# An empty file is fine too for development, keeping an old timestamp to avoid
# pkgbuild removing all .o files.
Makevars.duckdb:
	touch -r $$(ls -t *.cpp | head -n 1) "$@"

include Makevars.duckdb

CXX_STD = CXX17
PKG_CPPFLAGS = -Iinclude -I../inst/include -DDUCKDB_DISABLE_PRINT -DDUCKDB_R_BUILD -DBROTLI_ENCODER_CLEANUP_ON_OOM -DDUCKDB_EXTENSION_AUTOLOAD_DEFAULT -DDUCKDB_RSTRTMGR=$(DUCKDB_RSTRTMGR) -Iduckdb/src/include -Iduckdb/third_party/concurrentqueue -Iduckdb/third_party/fast_float -Iduckdb/third_party/fastpforlib -Iduckdb/third_party/fmt/include -Iduckdb/third_party/fsst -Iduckdb/third_party/httplib -Iduckdb/third_party/hyperloglog -Iduckdb/third_party/jaro_winkler -Iduckdb/third_party/jaro_winkler/details -Iduckdb/third_party/libpg_query -Iduckdb/third_party/libpg_query/include -Iduckdb/third_party/lz4 -Iduckdb/third_party/brotli/include -Iduckdb/third_party/brotli/common -Iduckdb/third_party/brotli/dec -Iduckdb/third_party/brotli/enc -Iduckdb/third_party/mbedtls/include -Iduckdb/third_party/mbedtls/library -Iduckdb/third_party/miniz -Iduckdb/third_party/pcg -Iduckdb/third_party/re2 -Iduckdb/third_party/skiplist -Iduckdb/third_party/tdigest -Iduckdb/third_party/utf8proc -Iduckdb/third_party/utf8proc/include -Iduckdb/third_party/yyjson/include -Iduckdb/third_party/zstd/include -Iduckdb/extension/parquet/include -Iduckdb/third_party/parquet -Iduckdb/third_party/thrift -Iduckdb/third_party/lz4 -Iduckdb/third_party/brotli/include -Iduckdb/third_party/brotli/common -Iduckdb/third_party/brotli/dec -Iduckdb/third_party/brotli/enc -Iduckdb/third_party/snappy -Iduckdb/third_party/mbedtls -Iduckdb/third_party/mbedtls/include -Iduckdb/third_party/zstd/include -Iduckdb/extension/core_functions/include -I../inst/include -Iduckdb -DDUCKDB_EXTENSION_PARQUET_LINKED -DDUCKDB_BUILD_LIBRARY -DDUCKDB_EXTENSION_CORE_FUNCTIONS_LINKED -DDUCKDB_BUILD_LIBRARY -DDUCKDB_PLATFORM_RTOOLS=1
OBJECTS=$(GLUE) $(SOURCES)
PKG_LIBS=-lws2_32 $(DUCKDB_RSTRTMGR_LIB)
